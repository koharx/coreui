{"version":3,"file":"index.esm.js","sources":["../src/auth/AuthContext.tsx","../src/api/apiClient.ts","../src/api/ApiContext.tsx","../src/logging/logger.ts","../src/logging/LoggerContext.tsx","../src/alert/AlertContext.tsx","../src/alert/AlertContainer.tsx","../src/hooks/useLocalStorage.ts","../src/hooks/useSessionStorage.ts","../src/hooks/useDebounce.ts","../src/hooks/useThrottle.ts"],"sourcesContent":["import {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  useCallback,\n  type ReactNode,\n  type FC,\n} from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nimport type {\n  User,\n  AuthState,\n  LoginCredentials,\n  AuthContextType,\n} from \"./types\";\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\ninterface AuthProviderProps {\n  children: ReactNode;\n  apiClient?: any; // Will be properly typed when we create the API client\n}\n\nexport const AuthProvider: FC<AuthProviderProps> = ({\n  children,\n  apiClient,\n}) => {\n  const [state, setState] = useState<AuthState>({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: true,\n    error: null,\n  });\n\n  const initializeAuth = useCallback(async () => {\n    try {\n      const token = localStorage.getItem(\"auth_token\");\n      if (!token) {\n        setState((prev) => ({ ...prev, isLoading: false }));\n        return;\n      }\n\n      const decoded = jwtDecode<{\n        sub: string;\n        email: string;\n        name: string;\n        roles?: string[];\n        permissions?: string[];\n      }>(token);\n\n      setState({\n        user: {\n          id: decoded.sub,\n          email: decoded.email,\n          name: decoded.name,\n          roles: decoded.roles || [],\n          permissions: decoded.permissions || [],\n        },\n        token,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null,\n      });\n    } catch (error) {\n      localStorage.removeItem(\"auth_token\");\n      setState((prev) => ({\n        ...prev,\n        isLoading: false,\n        error: \"Invalid token\",\n      }));\n    }\n  }, []);\n\n  useEffect(() => {\n    initializeAuth();\n  }, [initializeAuth]);\n\n  const login = useCallback(async (credentials: LoginCredentials) => {\n    try {\n      setState((prev) => ({ ...prev, isLoading: true, error: null }));\n\n      // This will be replaced with actual API call when apiClient is available\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(credentials),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Login failed\");\n      }\n\n      const { token } = await response.json();\n      localStorage.setItem(\"auth_token\", token);\n\n      const decoded = jwtDecode<{\n        sub: string;\n        email: string;\n        name: string;\n        roles?: string[];\n        permissions?: string[];\n      }>(token);\n\n      setState({\n        user: {\n          id: decoded.sub,\n          email: decoded.email,\n          name: decoded.name,\n          roles: decoded.roles || [],\n          permissions: decoded.permissions || [],\n        },\n        token,\n        isAuthenticated: true,\n        isLoading: false,\n        error: null,\n      });\n    } catch (error) {\n      setState((prev) => ({\n        ...prev,\n        isLoading: false,\n        error: error instanceof Error ? error.message : \"Login failed\",\n      }));\n      throw error;\n    }\n  }, []);\n\n  const logout = useCallback(() => {\n    localStorage.removeItem(\"auth_token\");\n    setState({\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      isLoading: false,\n      error: null,\n    });\n  }, []);\n\n  const refreshToken = useCallback(async () => {\n    try {\n      const response = await fetch(\"/api/auth/refresh\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Token refresh failed\");\n      }\n\n      const { token } = await response.json();\n      localStorage.setItem(\"auth_token\", token);\n\n      const decoded = jwtDecode<{\n        sub: string;\n        email: string;\n        name: string;\n        roles?: string[];\n        permissions?: string[];\n      }>(token);\n\n      setState((prev) => ({\n        ...prev,\n        user: {\n          id: decoded.sub,\n          email: decoded.email,\n          name: decoded.name,\n          roles: decoded.roles || [],\n          permissions: decoded.permissions || [],\n        },\n        token,\n      }));\n    } catch (error) {\n      logout();\n      throw error;\n    }\n  }, [logout]);\n\n  const hasRole = useCallback(\n    (role: string) => {\n      return state.user?.roles?.includes(role) || false;\n    },\n    [state.user]\n  );\n\n  const hasPermission = useCallback(\n    (permission: string) => {\n      return state.user?.permissions?.includes(permission) || false;\n    },\n    [state.user]\n  );\n\n  return (\n    <AuthContext.Provider\n      value={{\n        ...state,\n        login,\n        logout,\n        refreshToken,\n        hasRole,\n        hasPermission,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';\nimport type { ApiConfig, ApiResponse, ApiError } from './types';\n\nexport class ApiClient {\n  private instance: AxiosInstance;\n  private token: string | null = null;\n\n  constructor(config: ApiConfig) {\n    this.instance = axios.create({\n      baseURL: config.baseURL,\n      timeout: config.timeout || 10000,\n      headers: {\n        'Content-Type': 'application/json',\n        ...config.headers,\n      },\n    });\n\n    this.setupInterceptors();\n  }\n\n  private setupInterceptors() {\n    // Request interceptor\n    this.instance.interceptors.request.use(\n      (config) => {\n        if (this.token) {\n          config.headers.Authorization = `Bearer ${this.token}`;\n        }\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n\n    // Response interceptor\n    this.instance.interceptors.response.use(\n      (response: AxiosResponse) => response,\n      async (error) => {\n        if (error.response?.status === 401) {\n          // Handle token refresh or logout\n          this.token = null;\n        }\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  setToken(token: string | null) {\n    this.token = token;\n  }\n\n  private transformResponse<T>(response: AxiosResponse<T>): ApiResponse<T> {\n    return {\n      data: response.data,\n      status: response.status,\n      statusText: response.statusText,\n      headers: response.headers as Record<string, string>,\n    };\n  }\n\n  async get<T = any>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\n    const response = await this.instance.get<T>(url, config);\n    return this.transformResponse(response);\n  }\n\n  async post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\n    const response = await this.instance.post<T>(url, data, config);\n    return this.transformResponse(response);\n  }\n\n  async put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\n    const response = await this.instance.put<T>(url, data, config);\n    return this.transformResponse(response);\n  }\n\n  async patch<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\n    const response = await this.instance.patch<T>(url, data, config);\n    return this.transformResponse(response);\n  }\n\n  async delete<T = any>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>> {\n    const response = await this.instance.delete<T>(url, config);\n    return this.transformResponse(response);\n  }\n}\n\nexport const createApiClient = (config: ApiConfig): ApiClient => {\n  return new ApiClient(config);\n}; ","import {\n  createContext,\n  useContext,\n  useCallback,\n  type ReactNode,\n  type FC,\n} from \"react\";\nimport { ApiClient } from \"./apiClient\";\nimport type { ApiContextType, ApiConfig } from \"./types\";\n\nconst ApiContext = createContext<ApiContextType | undefined>(undefined);\n\ninterface ApiProviderProps {\n  children: ReactNode;\n  config: ApiConfig;\n}\n\nexport const ApiProvider: FC<ApiProviderProps> = ({ children, config }) => {\n  const apiClient = new ApiClient(config);\n\n  const get = useCallback(\n    async <T = any,>(url: string, requestConfig?: any) => {\n      return apiClient.get<T>(url, requestConfig);\n    },\n    [apiClient]\n  );\n\n  const post = useCallback(\n    async <T = any,>(url: string, data?: any, requestConfig?: any) => {\n      return apiClient.post<T>(url, data, requestConfig);\n    },\n    [apiClient]\n  );\n\n  const put = useCallback(\n    async <T = any,>(url: string, data?: any, requestConfig?: any) => {\n      return apiClient.put<T>(url, data, requestConfig);\n    },\n    [apiClient]\n  );\n\n  const patch = useCallback(\n    async <T = any,>(url: string, data?: any, requestConfig?: any) => {\n      return apiClient.patch<T>(url, data, requestConfig);\n    },\n    [apiClient]\n  );\n\n  const deleteRequest = useCallback(\n    async <T = any,>(url: string, requestConfig?: any) => {\n      return apiClient.delete<T>(url, requestConfig);\n    },\n    [apiClient]\n  );\n\n  return (\n    <ApiContext.Provider\n      value={{\n        get,\n        post,\n        put,\n        patch,\n        delete: deleteRequest,\n      }}\n    >\n      {children}\n    </ApiContext.Provider>\n  );\n};\n\nexport const useApi = () => {\n  const context = useContext(ApiContext);\n  if (context === undefined) {\n    throw new Error(\"useApi must be used within an ApiProvider\");\n  }\n  return context;\n};\n","import type { LogLevel, LogEntry, LoggerConfig } from './types';\n\nexport class Logger {\n  private config: LoggerConfig;\n  private logs: LogEntry[] = [];\n\n  constructor(config: LoggerConfig = {}) {\n    this.config = {\n      level: 'info',\n      enableConsole: true,\n      enableStorage: true,\n      maxEntries: 1000,\n      ...config,\n    };\n  }\n\n  private shouldLog(level: LogLevel): boolean {\n    const levels: LogLevel[] = ['debug', 'info', 'warn', 'error'];\n    const configLevel = this.config.level || 'info';\n    return levels.indexOf(level) >= levels.indexOf(configLevel);\n  }\n\n  private addLog(entry: LogEntry) {\n    this.logs.push(entry);\n\n    // Keep only the latest entries\n    if (this.config.maxEntries && this.logs.length > this.config.maxEntries) {\n      this.logs = this.logs.slice(-this.config.maxEntries);\n    }\n\n    // Store in localStorage if enabled\n    if (this.config.enableStorage) {\n      try {\n        const storedLogs = localStorage.getItem('app_logs');\n        const logs = storedLogs ? JSON.parse(storedLogs) : [];\n        logs.push({\n          ...entry,\n          timestamp: entry.timestamp.toISOString(),\n        });\n        \n        // Keep only the latest entries in storage too\n        if (this.config.maxEntries && logs.length > this.config.maxEntries) {\n          logs.splice(0, logs.length - this.config.maxEntries);\n        }\n        \n        localStorage.setItem('app_logs', JSON.stringify(logs));\n      } catch (error) {\n        console.warn('Failed to store log in localStorage:', error);\n      }\n    }\n  }\n\n  log(level: LogLevel, message: string, data?: any) {\n    if (!this.shouldLog(level)) return;\n\n    const entry: LogEntry = {\n      level,\n      message,\n      timestamp: new Date(),\n      data,\n    };\n\n    this.addLog(entry);\n\n    if (this.config.enableConsole) {\n      const consoleMethod = level === 'debug' ? 'debug' : level;\n      if (data) {\n        console[consoleMethod](message, data);\n      } else {\n        console[consoleMethod](message);\n      }\n    }\n  }\n\n  debug(message: string, data?: any) {\n    this.log('debug', message, data);\n  }\n\n  info(message: string, data?: any) {\n    this.log('info', message, data);\n  }\n\n  warn(message: string, data?: any) {\n    this.log('warn', message, data);\n  }\n\n  error(message: string, error?: Error, data?: any) {\n    const entry: LogEntry = {\n      level: 'error',\n      message,\n      timestamp: new Date(),\n      error,\n      data,\n    };\n\n    this.addLog(entry);\n\n    if (this.config.enableConsole) {\n      if (error) {\n        console.error(message, error, data);\n      } else {\n        console.error(message, data);\n      }\n    }\n  }\n\n  getLogs(level?: LogLevel): LogEntry[] {\n    if (level) {\n      return this.logs.filter(log => log.level === level);\n    }\n    return [...this.logs];\n  }\n\n  clearLogs() {\n    this.logs = [];\n    if (this.config.enableStorage) {\n      localStorage.removeItem('app_logs');\n    }\n  }\n}\n\nexport const createLogger = (config?: LoggerConfig): Logger => {\n  return new Logger(config);\n}; ","import {\n  createContext,\n  useContext,\n  useCallback,\n  useRef,\n  type ReactNode,\n  type FC,\n} from \"react\";\nimport { Logger } from \"./logger\";\nimport type { LoggerContextType, LogLevel, LoggerConfig } from \"./types\";\n\nconst LoggerContext = createContext<LoggerContextType | undefined>(undefined);\n\ninterface LoggerProviderProps {\n  children: ReactNode;\n  config?: LoggerConfig;\n}\n\nexport const LoggerProvider: FC<LoggerProviderProps> = ({\n  children,\n  config,\n}) => {\n  const loggerRef = useRef<Logger>(new Logger(config));\n\n  const log = useCallback((level: LogLevel, message: string, data?: any) => {\n    loggerRef.current.log(level, message, data);\n  }, []);\n\n  const debug = useCallback((message: string, data?: any) => {\n    loggerRef.current.debug(message, data);\n  }, []);\n\n  const info = useCallback((message: string, data?: any) => {\n    loggerRef.current.info(message, data);\n  }, []);\n\n  const warn = useCallback((message: string, data?: any) => {\n    loggerRef.current.warn(message, data);\n  }, []);\n\n  const error = useCallback((message: string, error?: Error, data?: any) => {\n    loggerRef.current.error(message, error, data);\n  }, []);\n\n  const getLogs = useCallback((level?: LogLevel) => {\n    return loggerRef.current.getLogs(level);\n  }, []);\n\n  const clearLogs = useCallback(() => {\n    loggerRef.current.clearLogs();\n  }, []);\n\n  return (\n    <LoggerContext.Provider\n      value={{\n        log,\n        debug,\n        info,\n        warn,\n        error,\n        getLogs,\n        clearLogs,\n      }}\n    >\n      {children}\n    </LoggerContext.Provider>\n  );\n};\n\nexport const useLogger = () => {\n  const context = useContext(LoggerContext);\n  if (context === undefined) {\n    throw new Error(\"useLogger must be used within a LoggerProvider\");\n  }\n  return context;\n};\n","import {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n  type ReactNode,\n  type FC,\n} from \"react\";\nimport type { Alert, AlertContextType, AlertProviderProps } from \"./types\";\n\nconst AlertContext = createContext<AlertContextType | undefined>(undefined);\n\nexport const AlertProvider: FC<AlertProviderProps> = ({\n  children,\n  maxAlerts = 5,\n  defaultDuration = 5000,\n}) => {\n  const [alerts, setAlerts] = useState<Alert[]>([]);\n\n  const generateId = useCallback(() => {\n    return Math.random().toString(36).substr(2, 9);\n  }, []);\n\n  const showAlert = useCallback(\n    (alert: Omit<Alert, \"id\" | \"timestamp\">) => {\n      const id = generateId();\n      const newAlert: Alert = {\n        ...alert,\n        id,\n        timestamp: new Date(),\n        duration: alert.duration ?? defaultDuration,\n        dismissible: alert.dismissible ?? true,\n      };\n\n      setAlerts((prev) => {\n        const updated = [...prev, newAlert];\n        // Keep only the latest alerts up to maxAlerts\n        return updated.slice(-maxAlerts);\n      });\n\n      return id;\n    },\n    [generateId, defaultDuration, maxAlerts]\n  );\n\n  const showSuccess = useCallback(\n    (title: string, message?: string, options?: Partial<Alert>) => {\n      return showAlert({\n        type: \"success\",\n        title,\n        message: message || \"\",\n        ...options,\n      });\n    },\n    [showAlert]\n  );\n\n  const showError = useCallback(\n    (title: string, message?: string, options?: Partial<Alert>) => {\n      return showAlert({\n        type: \"error\",\n        title,\n        message: message || \"\",\n        ...options,\n      });\n    },\n    [showAlert]\n  );\n\n  const showWarning = useCallback(\n    (title: string, message?: string, options?: Partial<Alert>) => {\n      return showAlert({\n        type: \"warning\",\n        title,\n        message: message || \"\",\n        ...options,\n      });\n    },\n    [showAlert]\n  );\n\n  const showInfo = useCallback(\n    (title: string, message?: string, options?: Partial<Alert>) => {\n      return showAlert({\n        type: \"info\",\n        title,\n        message: message || \"\",\n        ...options,\n      });\n    },\n    [showAlert]\n  );\n\n  const dismissAlert = useCallback((id: string) => {\n    setAlerts((prev) => prev.filter((alert) => alert.id !== id));\n  }, []);\n\n  const clearAlerts = useCallback(() => {\n    setAlerts([]);\n  }, []);\n\n  // Auto-dismiss alerts with duration\n  useEffect(() => {\n    const timeouts: NodeJS.Timeout[] = [];\n\n    alerts.forEach((alert) => {\n      if (alert.duration && alert.duration > 0) {\n        const timeout = setTimeout(() => {\n          dismissAlert(alert.id);\n        }, alert.duration);\n        timeouts.push(timeout);\n      }\n    });\n\n    return () => {\n      timeouts.forEach((timeout) => clearTimeout(timeout));\n    };\n  }, [alerts, dismissAlert]);\n\n  return (\n    <AlertContext.Provider\n      value={{\n        alerts,\n        showAlert,\n        showSuccess,\n        showError,\n        showWarning,\n        showInfo,\n        dismissAlert,\n        clearAlerts,\n      }}\n    >\n      {children}\n    </AlertContext.Provider>\n  );\n};\n\nexport const useAlert = () => {\n  const context = useContext(AlertContext);\n  if (context === undefined) {\n    throw new Error(\"useAlert must be used within an AlertProvider\");\n  }\n  return context;\n};\n","import { type FC } from \"react\";\nimport { useAlert } from \"./AlertContext\";\nimport type { AlertType } from \"./types\";\n\ninterface AlertContainerProps {\n  position?:\n    | \"top-right\"\n    | \"top-left\"\n    | \"bottom-right\"\n    | \"bottom-left\"\n    | \"top-center\"\n    | \"bottom-center\";\n  className?: string;\n}\n\nconst getAlertStyles = (type: AlertType) => {\n  const baseStyles = {\n    padding: \"12px 16px\",\n    borderRadius: \"6px\",\n    marginBottom: \"8px\",\n    border: \"1px solid\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-start\",\n    minWidth: \"300px\",\n    maxWidth: \"400px\",\n    boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n  };\n\n  switch (type) {\n    case \"success\":\n      return {\n        ...baseStyles,\n        backgroundColor: \"#d4edda\",\n        borderColor: \"#c3e6cb\",\n        color: \"#155724\",\n      };\n    case \"error\":\n      return {\n        ...baseStyles,\n        backgroundColor: \"#f8d7da\",\n        borderColor: \"#f5c6cb\",\n        color: \"#721c24\",\n      };\n    case \"warning\":\n      return {\n        ...baseStyles,\n        backgroundColor: \"#fff3cd\",\n        borderColor: \"#ffeaa7\",\n        color: \"#856404\",\n      };\n    case \"info\":\n      return {\n        ...baseStyles,\n        backgroundColor: \"#d1ecf1\",\n        borderColor: \"#bee5eb\",\n        color: \"#0c5460\",\n      };\n    default:\n      return baseStyles;\n  }\n};\n\nconst getContainerStyles = (position: string) => {\n  const baseStyles = {\n    position: \"fixed\" as const,\n    zIndex: 9999,\n    padding: \"16px\",\n    pointerEvents: \"none\" as const,\n  };\n\n  switch (position) {\n    case \"top-right\":\n      return { ...baseStyles, top: 0, right: 0 };\n    case \"top-left\":\n      return { ...baseStyles, top: 0, left: 0 };\n    case \"bottom-right\":\n      return { ...baseStyles, bottom: 0, right: 0 };\n    case \"bottom-left\":\n      return { ...baseStyles, bottom: 0, left: 0 };\n    case \"top-center\":\n      return {\n        ...baseStyles,\n        top: 0,\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n      };\n    case \"bottom-center\":\n      return {\n        ...baseStyles,\n        bottom: 0,\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n      };\n    default:\n      return { ...baseStyles, top: 0, right: 0 };\n  }\n};\n\nexport const AlertContainer: FC<AlertContainerProps> = ({\n  position = \"top-right\",\n  className = \"\",\n}) => {\n  const { alerts, dismissAlert } = useAlert();\n\n  const containerStyles = getContainerStyles(position);\n\n  return (\n    <div style={containerStyles} className={className}>\n      {alerts.map((alert) => (\n        <div\n          key={alert.id}\n          style={{\n            ...getAlertStyles(alert.type),\n            pointerEvents: \"auto\",\n            animation: \"slideIn 0.3s ease-out\",\n          }}\n        >\n          <div style={{ flex: 1 }}>\n            <div style={{ fontWeight: \"bold\", marginBottom: \"4px\" }}>\n              {alert.title}\n            </div>\n            {alert.message && (\n              <div style={{ fontSize: \"14px\", lineHeight: \"1.4\" }}>\n                {alert.message}\n              </div>\n            )}\n          </div>\n          {alert.dismissible && (\n            <button\n              onClick={() => dismissAlert(alert.id)}\n              style={{\n                background: \"none\",\n                border: \"none\",\n                fontSize: \"18px\",\n                cursor: \"pointer\",\n                marginLeft: \"12px\",\n                color: \"inherit\",\n                opacity: 0.7,\n              }}\n              aria-label=\"Dismiss alert\"\n            >\n              ×\n            </button>\n          )}\n        </div>\n      ))}\n      <style>\n        {`\n          @keyframes slideIn {\n            from {\n              transform: translateX(100%);\n              opacity: 0;\n            }\n            to {\n              transform: translateX(0);\n              opacity: 1;\n            }\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n","import { useState, useEffect, useCallback } from 'react';\n\nexport function useLocalStorage<T>(key: string, initialValue: T) {\n  // Get from local storage then parse stored json or return initialValue\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that persists the new value to localStorage\n  const setValue = useCallback((value: T | ((val: T) => T)) => {\n    try {\n      // Allow value to be a function so we have the same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      \n      // Save to local storage\n      if (typeof window !== 'undefined') {\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      }\n    } catch (error) {\n      console.warn(`Error setting localStorage key \"${key}\":`, error);\n    }\n  }, [key, storedValue]);\n\n  // Listen for changes to this localStorage key in other tabs/windows\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === key && e.newValue !== null) {\n        try {\n          setStoredValue(JSON.parse(e.newValue));\n        } catch (error) {\n          console.warn(`Error parsing localStorage key \"${key}\":`, error);\n        }\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, [key]);\n\n  return [storedValue, setValue] as const;\n} ","import { useState, useEffect, useCallback } from 'react';\n\nexport function useSessionStorage<T>(key: string, initialValue: T) {\n  // Get from session storage then parse stored json or return initialValue\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n    try {\n      const item = window.sessionStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.warn(`Error reading sessionStorage key \"${key}\":`, error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that persists the new value to sessionStorage\n  const setValue = useCallback((value: T | ((val: T) => T)) => {\n    try {\n      // Allow value to be a function so we have the same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      \n      // Save to session storage\n      if (typeof window !== 'undefined') {\n        window.sessionStorage.setItem(key, JSON.stringify(valueToStore));\n      }\n    } catch (error) {\n      console.warn(`Error setting sessionStorage key \"${key}\":`, error);\n    }\n  }, [key, storedValue]);\n\n  // Listen for changes to this sessionStorage key in other tabs/windows\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === key && e.newValue !== null) {\n        try {\n          setStoredValue(JSON.parse(e.newValue));\n        } catch (error) {\n          console.warn(`Error parsing sessionStorage key \"${key}\":`, error);\n        }\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, [key]);\n\n  return [storedValue, setValue] as const;\n} ","import { useState, useEffect } from 'react';\n\nexport function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n} ","import { useState, useEffect, useRef } from 'react';\n\nexport function useThrottle<T>(value: T, delay: number): T {\n  const [throttledValue, setThrottledValue] = useState<T>(value);\n  const lastExecuted = useRef<number>(Date.now());\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      const now = Date.now();\n      if (now - lastExecuted.current >= delay) {\n        setThrottledValue(value);\n        lastExecuted.current = now;\n      }\n    }, delay - (Date.now() - lastExecuted.current));\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return throttledValue;\n} "],"names":["AuthContext","createContext","undefined","AuthProvider","children","apiClient","state","setState","useState","user","token","isAuthenticated","isLoading","error","initializeAuth","useCallback","async","localStorage","getItem","prev","decoded","jwtDecode","id","sub","email","name","roles","permissions","removeItem","useEffect","login","credentials","response","fetch","method","headers","body","JSON","stringify","ok","Error","json","setItem","message","logout","refreshToken","hasRole","role","_b","_a","includes","hasPermission","permission","_jsx","Provider","value","useAuth","context","useContext","ApiClient","constructor","config","Object","defineProperty","this","instance","axios","create","baseURL","timeout","setupInterceptors","interceptors","request","use","Authorization","Promise","reject","status","setToken","transformResponse","data","statusText","get","url","post","put","patch","delete","createApiClient","ApiContext","ApiProvider","requestConfig","deleteRequest","useApi","Logger","level","enableConsole","enableStorage","maxEntries","shouldLog","levels","configLevel","indexOf","addLog","entry","logs","push","length","slice","storedLogs","parse","timestamp","toISOString","splice","console","warn","log","Date","consoleMethod","debug","info","getLogs","filter","clearLogs","createLogger","LoggerContext","LoggerProvider","loggerRef","useRef","current","useLogger","AlertContext","AlertProvider","maxAlerts","defaultDuration","alerts","setAlerts","generateId","Math","random","toString","substr","showAlert","alert","newAlert","duration","dismissible","showSuccess","title","options","type","showError","showWarning","showInfo","dismissAlert","clearAlerts","timeouts","forEach","setTimeout","clearTimeout","useAlert","getAlertStyles","baseStyles","padding","borderRadius","marginBottom","border","display","justifyContent","alignItems","minWidth","maxWidth","boxShadow","backgroundColor","borderColor","color","AlertContainer","position","className","containerStyles","zIndex","pointerEvents","top","right","left","bottom","transform","getContainerStyles","_jsxs","style","map","animation","flex","fontWeight","fontSize","lineHeight","onClick","background","cursor","marginLeft","opacity","useLocalStorage","key","initialValue","storedValue","setStoredValue","window","item","setValue","valueToStore","Function","handleStorageChange","e","newValue","addEventListener","removeEventListener","useSessionStorage","sessionStorage","useDebounce","delay","debouncedValue","setDebouncedValue","handler","useThrottle","throttledValue","setThrottledValue","lastExecuted","now"],"mappings":"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"}